# Emergency Personnel Performance Management System

## مشکلات حل شده در این نسخه

### 1. رفع محدودیت‌های نام کاربری و رمز عبور
- **قبلاً**: فقط حروف و اعداد انگلیسی مجاز بود
- **اکنون**: هر نام کاربری با هر کاراکتر (فارسی، چینی، علائم خاص و...) و هر طولی مجاز است
- **تنها محدودیت**: حداقل 6 کاراکتر برای رمز عبور (محدودیت Supabase)

### 2. رفع پیام تایید ایمیل
- **قبلاً**: پیام تایید ایمیل نمایش داده می‌شد
- **اکنون**: پیام ساده "حساب شما در انتظار تایید مدیر سیستم است" نمایش داده می‌شود

### 3. رفع مشکل نمایش کاربران در انتظار تایید
- **قبلاً**: کاربران جدید در پنل مدیر نمایش داده نمی‌شدند
- **اکنون**: همه کاربران جدید به درستی در بخش "در انتظار تایید" نمایش داده می‌شوند

## اطلاعات سیستم

### URLs
- **Production**: https://3000-i6cl6bkntbbf9bpmq3v7q-6532622b.e2b.dev
- **GitHub**: https://github.com/robertmandory-alt/P5.git

### دسترسی مدیر
- **نام کاربری**: admin
- **رمز عبور**: admin1

## معماری داده‌ها
- **دیتابیس**: Supabase PostgreSQL
- **URL**: https://frcrtkfyuejqgclrlpna.supabase.co
- **جداول اصلی**: profiles, personnel, bases, shifts, performance_records

## راهنمای استفاده

### برای کاربران جدید:
1. در صفحه ورود، روی "حساب کاربری ندارید؟ ثبت نام کنید" کلیک کنید
2. نام کاربری (با هر کاراکتر) و رمز عبور (حداقل 6 کاراکتر) وارد کنید
3. پیام "حساب شما در انتظار تایید مدیر سیستم است" را مشاهده خواهید کرد
4. منتظر تایید مدیر باشید

### برای مدیران:
1. با نام کاربری `admin` و رمز عبور `admin1` وارد شوید
2. در منوی اصلی، روی "مدیریت کاربران" کلیک کنید
3. تب "در انتظار تایید" را انتخاب کنید
4. کاربران جدید را تایید یا رد کنید

### نمونه نام‌های کاربری مجاز:
- علی123 ✅
- user@#$% ✅
- محمدعلی رضایی ✅
- 用户名123 ✅
- user.with.dots ✅
- a (اگر رمز عبور حداقل 6 کاراکتر باشد) ✅

## فایل‌های تست
- `test-registration-process.js` - تست کامل فرآیند ثبت نام
- `test-various-usernames.js` - تست انواع فرمت نام کاربری
- `fix-missing-profiles.js` - رفع پروفایل‌های مفقود

## وضعیت سیستم
- **پلتفرم**: React + Supabase
- **وضعیت**: ✅ فعال
- **تکنولوژی**: TypeScript, Vite, TailwindCSS
- **آخرین بروزرسانی**: اکتبر 2025

## تکنولوژی استفاده شده
- **Frontend**: React 19, TypeScript, TailwindCSS
- **Backend**: Supabase (Auth + Database)
- **Build Tool**: Vite
- **Deployment**: Local Development Server

## نکات مهم برای توسعه
1. همیشه پس از تغییرات `npm run build` اجرا کنید
2. برای اجرای local از `pm2 start ecosystem.config.cjs` استفاده کنید
3. تست‌های موجود را پس از تغییرات اجرا کنید
4. کاربر admin همیشه بایستی وجود داشته باشد

## ساختار پروژه
```
webapp/
├── components/           # کامپوننت‌های React
│   ├── auth/            # صفحات ورود و ثبت نام
│   ├── admin/           # صفحات مدیریت
│   └── shared/          # کامپوننت‌های مشترک
├── context/             # مدیریت state کاربران
├── utils/               # ابزارهای کمکی (Supabase client)
├── test-*.js           # فایل‌های تست
└── dist/               # فایل‌های build شده
```

## تماس و پشتیبانی
برای هرگونه مشکل یا سوال، فایل‌های تست موجود را اجرا کرده و نتایج را بررسی کنید.